function getLanguage(){if(window.peachpay_wordpress_settings){if(peachpay_wordpress_settings.locale.includes("_")){split_arr=peachpay_wordpress_settings.locale.split("_");return split_arr[0]+"-"+split_arr[1].toUpperCase()}return peachpay_wordpress_settings.locale}if(!peachpay_data||!peachpay_data.language){return"en-US"}let language=peachpay_data.language;if(peachpay_data.language==="detect-from-page"){language=languageCodeToLocale(getPageLanguage());const englishVariants=new Set(["en-AU","en-CA","en-GB","en-NZ","en-ZA"]);if(englishVariants.has(language)){language="en-US"}}return language}document.addEventListener("DOMContentLoaded",peachpayListenForPageTranslate);function peachpayListenForPageTranslate(){const $helper=document.querySelector(".peachpay-translate-helper");if($helper){let previous=document.querySelector("html").lang;$helper.addEventListener("DOMSubtreeModified",()=>{const current=document.querySelector("html").lang;if(previous!==current){previous=current;sendPageLanguageChangeMessage(current)}})}else{self.requestAnimationFrame(peachpayListenForPageTranslate)}}function sendPageLanguageChangeMessage(language){const peachpay=document.querySelector("#peachpay-iframe");if(!peachpay){return}peachpay.contentWindow.postMessage({event:"pageLanguageChange",language:languageCodeToLocale(language)},"*")}function getPluginLocaleText(text,isAdminPageText=false){language=getLanguage();if(language=="en-US"||!PEACHPAY_PLUGIN_i18n[language]||!PEACHPAY_PLUGIN_i18n[language][text]){return text}if(isAdminPageText){return language==="ja"?PEACHPAY_PLUGIN_i18n["ja"][text]:text}return PEACHPAY_PLUGIN_i18n[language][text]}function languageCodeToLocale(languageCode){switch(languageCode){case"cs":return"cs-CZ";case"da":return"da-DK";case"de":case"de-AT":case"de-DE":case"de-CH":return"de-DE";case"en":case"en-AU":case"en-CA":case"en-GB":case"en-NZ":case"en-ZA":return"en-US";case"es":case"es-MX":case"es-AR":case"es-CL":case"es-PE":case"es-PR":case"es-GT":case"es-CO":case"es-EC":case"es-VE":case"es-UY":case"es-CR":return"es-ES";case"fr":case"fr-BE":case"fr-CA":case"fr-FR":return"fr-FR";case"hi":return"hi-IN";case"it-IT":return"it";case"ko":return"ko-KR";case"lb":return"lb-LU";case"nl":case"nl-BE":case"nl-NL":return"nl-NL";case"pt":case"pt-AO":case"pt-BR":case"pt-PT-ao90":case"pt-PT":return"pt-PT";case"ru":return"ru-RU";case"ro":return"ro-RO";case"sl":return"sl-SI";case"sv":return"sv-SE";case"bg":return"bg-BG";case"auto":return navigator.language||navigator.userLanguage;default:return languageCode}}