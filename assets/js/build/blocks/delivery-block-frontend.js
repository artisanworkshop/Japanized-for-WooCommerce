(()=>{"use strict";var e={20:(e,t,o)=>{var n=o(609),r=Symbol.for("react.element"),i=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),c=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function s(e,t,o){var n,s={},a=null,u=null;for(n in void 0!==o&&(a=""+o),void 0!==t.key&&(a=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,n)&&!l.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:r,type:e,key:a,ref:u,props:s,_owner:c.current}}t.jsx=s,t.jsxs=s},609:e=>{e.exports=window.React},848:(e,t,o)=>{e.exports=o(20)}},t={};const o=window.wp.plugins,n=window.wc.blocksCheckout,r=window.wp.i18n,i=window.wp.components,c=window.wp.element,l=window.wp.data,s=window.wc.wcBlocksData;var a=function o(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,o),i.exports}(848);const u=()=>{const e=window.jp4wcDeliveryData||{},{deliveryDates:t=[],timeZones:o=[],isDateEnabled:n=!1,isTimeEnabled:u=!1,isDateRequired:d=!1,isTimeRequired:p=!1}=e,[w,v]=(0,c.useState)((()=>{if(t.length>0){if(d){const e=t.find(e=>"0"!==e.value);return e?e.value:t[0].value}const e=t.find(e=>"0"===e.value);return e?e.value:t[0].value}return""})()),[_,m]=(0,c.useState)((()=>{if(o.length>0){if(p){const e=o.find(e=>"0"!==e.value);return e?e.value:o[0].value}const e=o.find(e=>"0"===e.value);return e?e.value:o[0].value}return""})()),{setAdditionalFields:f}=(0,l.useDispatch)(s.CHECKOUT_STORE_KEY),x=(0,l.useSelect)(e=>{const t=e(s.CHECKOUT_STORE_KEY);return t.getCartData?.()||{}},[]),y=x?.items||[];return y.length>0&&y.every(e=>!0===e.is_virtual)?null:n||u?((0,c.useEffect)(()=>{if(f){const e={};n&&(e["jp4wc/delivery-date"]=w),u&&(e["jp4wc/delivery-time"]=_),f(e)}},[w,_,f,n,u]),(0,a.jsxs)("div",{className:"wc-block-components-checkout-step__container jp4wc-delivery-fields",children:[(0,a.jsx)("h3",{className:"wc-block-components-checkout-step__title wc-block-components-title",children:(0,r.__)("Delivery request date and time","woocommerce-for-japan")}),(0,a.jsxs)("div",{className:"wc-block-components-checkout-step__content",children:[n&&(0,a.jsx)("div",{className:"wc-block-components-text-input delivery-date",children:(0,a.jsx)(i.SelectControl,{label:(0,r.__)("Preferred delivery date","woocommerce-for-japan"),value:w,onChange:e=>v(e),options:t,required:d,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})}),u&&(0,a.jsx)("div",{className:"wc-block-components-text-input delivery-time",children:(0,a.jsx)(i.SelectControl,{label:(0,r.__)("Delivery Time Zone","woocommerce-for-japan"),value:_,onChange:e=>m(e),options:o,required:p,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})})]})]})):null};(0,o.registerPlugin)("jp4wc-delivery-block",{render:()=>(0,a.jsx)(n.ExperimentalOrderShippingPackages,{children:(0,a.jsx)(u,{})}),scope:"woocommerce-checkout"})})();