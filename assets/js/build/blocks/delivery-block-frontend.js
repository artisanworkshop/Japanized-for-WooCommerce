(()=>{"use strict";var e={20:(e,t,o)=>{var r=o(609),n=Symbol.for("react.element"),i=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,o){var r,c={},a=null,d=null;for(r in void 0!==o&&(a=""+o),void 0!==t.key&&(a=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(c[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===c[r]&&(c[r]=t[r]);return{$$typeof:n,type:e,key:a,ref:d,props:c,_owner:s.current}}t.jsx=c,t.jsxs=c},609:e=>{e.exports=window.React},848:(e,t,o)=>{e.exports=o(20)}},t={};const o=window.wp.plugins,r=window.wc.blocksCheckout,n=window.wp.i18n,i=window.wp.components,s=window.wp.element,l=window.wp.data,c=window.wc.wcBlocksData;var a=function o(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,o),i.exports}(848);const d=()=>{const e=window.jp4wcDeliveryData||{},{deliveryDates:t=[],timeZones:o=[],isDateEnabled:r=!1,isTimeEnabled:d=!1,isDateRequired:p=!1,isTimeRequired:u=!1}=e,[w,_]=(0,s.useState)((()=>{if(p&&t.length>0){const e=t.find(e=>"0"!==e.value);return e?e.value:t[0].value}return"0"})()),[v,m]=(0,s.useState)((()=>{if(u&&o.length>0){const e=o.find(e=>"0"!==e.value);return e?e.value:o[0].value}return"0"})()),{setAdditionalFields:f}=(0,l.useDispatch)(c.CHECKOUT_STORE_KEY),{setValidationErrors:x}=(0,l.useDispatch)(c.VALIDATION_STORE_KEY);return(0,l.useSelect)(e=>{const t=e(c.CHECKOUT_STORE_KEY),o=t.getCartData?.(),r=o?.items||[];return 0!==r.length&&r.every(e=>!0===e.is_virtual)},[])?null:r||d?((0,s.useEffect)(()=>{if(f){const e={};r&&(e["jp4wc/delivery-date"]=w),d&&(e["jp4wc/delivery-time"]=v),f(e)}else console.error("[JP4WC Delivery] setAdditionalFields not available!")},[w,v,f,r,d]),(0,a.jsxs)("div",{className:"wc-block-components-checkout-step__container jp4wc-delivery-fields",children:[(0,a.jsx)("h3",{className:"wc-block-components-checkout-step__title wc-block-components-title",children:(0,n.__)("Delivery request date and time","woocommerce-for-japan")}),(0,a.jsxs)("div",{className:"wc-block-components-checkout-step__content",children:[r&&(0,a.jsx)("div",{className:"wc-block-components-text-input delivery-date",children:(0,a.jsx)(i.SelectControl,{label:(0,n.__)("Preferred delivery date","woocommerce-for-japan"),value:w,onChange:e=>_(e),options:t,required:p,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})}),d&&(0,a.jsx)("div",{className:"wc-block-components-text-input delivery-time",children:(0,a.jsx)(i.SelectControl,{label:(0,n.__)("Delivery Time Zone","woocommerce-for-japan"),value:v,onChange:e=>m(e),options:o,required:u,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})})]})]})):null};(0,o.registerPlugin)("jp4wc-delivery-block",{render:()=>(0,a.jsx)(r.ExperimentalOrderShippingPackages,{children:(0,a.jsx)(d,{})}),scope:"woocommerce-checkout"})})();